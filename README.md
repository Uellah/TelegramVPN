# Telegram Mini App ‚Äî VPN Dashboard

Telegram Mini App —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏: CPU, –ø–∞–º—è—Ç—å, —Å–µ—Ç—å, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è + –∫—Ä–∞—Å–∏–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** ‚Äî CPU, –ø–∞–º—è—Ç—å, uptime, –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- üìà **–ì—Ä–∞—Ñ–∏–∫–∏ CPU** ‚Äî –∏—Å—Ç–æ—Ä–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ —Å Chart.js
- üåê **–°–∫–æ—Ä–æ—Å—Ç—å —Å–µ—Ç–∏** ‚Äî –∂–∏–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ RX/TX (bytes/sec + total)
- üé® **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** ‚Äî –æ—Ç mobile –¥–æ desktop (–≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, –∞–Ω–∏–º–∞—Ü–∏–∏, glassmorphism)
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –∞–≥–µ–Ω—Ç –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –ü–ö –ø—É—à–∏—Ç –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ API_KEY
- ‚ö° **Prometheus-ready** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ node_exporter –¥–ª—è production-–º–µ—Ç—Ä–∏–∫

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- Telegram-–±–æ—Ç (—Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather))

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

```bash
cd TelagramVPN
npm install
```

2. **–°–æ–∑–¥–∞–π—Ç–µ `.env` –∏–∑ –ø—Ä–∏–º–µ—Ä–∞:**

```bash
cp .env.example .env
```

3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env`:**

```
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
WEBAPP_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.ngrok.io
PORT=3000
```

> –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Mini App –Ω—É–∂–µ–Ω HTTPS. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [ngrok](https://ngrok.com): `ngrok http 3000` ‚Äî –≤–æ–∑—å–º–∏—Ç–µ HTTPS-URL –≤ `WEBAPP_URL`.

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Mini App –≤ BotFather:**

- –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/mybots` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ ‚Üí Bot Settings ‚Üí Configure Mini App
- –£–∫–∞–∂–∏—Ç–µ URL –¥–∞—à–±–æ—Ä–¥–∞: `https://–≤–∞—à-–¥–æ–º–µ–Ω/dashboard`

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ¬ª.

## –î–µ–ø–ª–æ–π –Ω–∞ Render

1. **–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [Render](https://render.com).**

2. **New ‚Üí Web Service**, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (GitHub/GitLab).

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
   - **Build Command:** `npm install && npm run build`
   - **Start Command:** `npm start`
   - **Environment:** Node

4. **Environment Variables (—Å–µ–∫—Ä–µ—Ç—ã):**
   - `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather
   - `WEBAPP_URL` ‚Äî URL —Å–µ—Ä–≤–∏—Å–∞ Render (–Ω–∞–ø—Ä–∏–º–µ—Ä `https://your-app.onrender.com`)
   - `USE_WEBHOOK=true` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ Render, –∏–Ω–∞—á–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç 409 –ø—Ä–∏ —Ä–µ–¥–µ–ø–ª–æ–µ
   - `PORT` ‚Äî Render –∑–∞–¥–∞—ë—Ç —Å–∞–º, –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å

5. ** deploy** ‚Äî Render –∑–∞–ø—É—Å—Ç–∏—Ç —Å–±–æ—Ä–∫—É –∏ –¥–µ–ø–ª–æ–π.

6. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Mini App –≤ BotFather:**
   - Bot Settings ‚Üí Configure Mini App ‚Üí —É–∫–∞–∂–∏—Ç–µ `https://your-app.onrender.com/dashboard`

## Mini App (Dashboard)

React-–¥–∞—à–±–æ—Ä–¥ ‚Äî Mini App. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–µ ¬´–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ¬ª –ø—Ä–∏ `/start`.

**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
```bash
npm run dev
```
–°–µ—Ä–≤–µ—Ä: http://localhost:3000, –¥–∞—à–±–æ—Ä–¥: http://localhost:5173 (Vite)

**–ü—Ä–æ–¥–∞–∫—à–µ–Ω:** Build command: `npm install && npm run build`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ server.js         # Express + API + Bot
‚îú‚îÄ‚îÄ src/              # React Mini App (–¥–∞—à–±–æ—Ä–¥)
‚îú‚îÄ‚îÄ index.html        # Vite entry
‚îú‚îÄ‚îÄ vite.config.js
‚îú‚îÄ‚îÄ .env
‚îî‚îÄ‚îÄ package.json
```

## –û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–∞

**–ù–∞ —Ç–≤–æ—ë–º KDE Neon:**

1. –°–æ–∑–¥–∞–π `.env` –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
SERVER_URL=https://telegramuellahbot.onrender.com
API_KEY=—Ç–≤–æ–π-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á
INTERVAL_SEC=5
```

2. –ó–∞–ø—É—Å—Ç–∏ –∞–≥–µ–Ω—Ç–∞:
```bash
npm run agent
```

–ê–≥–µ–Ω—Ç –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (CPU, –ø–∞–º—è—Ç—å, —Å–µ—Ç—å) –Ω–∞ Render. Mini App –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–≤–æ–µ–≥–æ –∫–æ–º–ø–∞.

**–ù–∞ Render –¥–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:**
```
API_KEY=—Ç–≤–æ–π-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á
```

## API

- `POST /api/me` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è initData Telegram
- `POST /api/stats/report` ‚Äî –ø—Ä–∏—ë–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ—Ç –∞–≥–µ–Ω—Ç–∞ (—Ç—Ä–µ–±—É–µ—Ç X-API-Key)
- `GET /api/stats` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `GET /api/servers` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤
